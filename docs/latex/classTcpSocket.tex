\hypertarget{classTcpSocket}{}\doxysection{Tcp\+Socket Class Reference}
\label{classTcpSocket}\index{TcpSocket@{TcpSocket}}


Represents a TCP socket.  




{\ttfamily \#include $<$socket.\+hpp$>$}



Inheritance diagram for Tcp\+Socket\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=145pt]{classTcpSocket__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Tcp\+Socket\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=145pt]{classTcpSocket__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTcpSocket_a132aa72af141d611f8bad96ba585a79f}{Tcp\+Socket}} ()
\begin{DoxyCompactList}\small\item\em Construct a new \mbox{\hyperlink{classTcpSocket}{Tcp\+Socket}} object. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTcpSocket_a4c6d246451c51ac4226a9301f6711086}\label{classTcpSocket_a4c6d246451c51ac4226a9301f6711086}} 
\mbox{\hyperlink{classTcpSocket_a4c6d246451c51ac4226a9301f6711086}{$\sim$\+Tcp\+Socket}} ()
\begin{DoxyCompactList}\small\item\em Destroy the \mbox{\hyperlink{classTcpSocket}{Tcp\+Socket}} object. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classTcpSocket_a7d204a80b7c5dae21ee6c930db12b29d}{bind}} (string addr, int port)
\begin{DoxyCompactList}\small\item\em Bind the socket to a port and address. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTcpSocket_aecb504049c6d1981223fafa46f2ef40a}\label{classTcpSocket_aecb504049c6d1981223fafa46f2ef40a}} 
void \mbox{\hyperlink{classTcpSocket_aecb504049c6d1981223fafa46f2ef40a}{listen}} ()
\begin{DoxyCompactList}\small\item\em Listen for connections. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTcpSocket_afff107566386b56fbdb2e8b0a8522378}\label{classTcpSocket_afff107566386b56fbdb2e8b0a8522378}} 
pair$<$ int, \mbox{\hyperlink{classSession}{Session}} $>$ \mbox{\hyperlink{classTcpSocket_afff107566386b56fbdb2e8b0a8522378}{accept}} ()
\begin{DoxyCompactList}\small\item\em Accept a connection and connects to it. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTcpSocket_a68f30d391495a328074eb28f5defdd7d}\label{classTcpSocket_a68f30d391495a328074eb28f5defdd7d}} 
void \mbox{\hyperlink{classTcpSocket_a68f30d391495a328074eb28f5defdd7d}{close}} ()
\begin{DoxyCompactList}\small\item\em Close the socket. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Represents a TCP socket. 

Definition at line 83 of file socket.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classTcpSocket_a132aa72af141d611f8bad96ba585a79f}\label{classTcpSocket_a132aa72af141d611f8bad96ba585a79f}} 
\index{TcpSocket@{TcpSocket}!TcpSocket@{TcpSocket}}
\index{TcpSocket@{TcpSocket}!TcpSocket@{TcpSocket}}
\doxysubsubsection{\texorpdfstring{TcpSocket()}{TcpSocket()}}
{\footnotesize\ttfamily Tcp\+Socket\+::\+Tcp\+Socket (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Construct a new \mbox{\hyperlink{classTcpSocket}{Tcp\+Socket}} object. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000012}{Todo}}]flags (isntead of 0) -\/ these should be in setsockopt() SOCK\+\_\+\+NONBLOCK? There\textquotesingle{}s no define for it, O\+\_\+\+NONBLOCK is a flag for open() SO\+\_\+\+DEBUG might be useful SO\+\_\+\+REUSEADDR might be useful SO\+\_\+\+KEEPALIVE might be useful \end{DoxyRefDesc}


Definition at line 45 of file socket.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{45                      \{}
\DoxyCodeLine{53     \mbox{\hyperlink{classSocket_a7cf176290950fc3ddda59fc43e49f2ed}{sockfd\_}} = socket(AF\_INET, SOCK\_STREAM, 0);}
\DoxyCodeLine{54     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classSocket_a7cf176290950fc3ddda59fc43e49f2ed}{sockfd\_}} == -\/1) \{}
\DoxyCodeLine{55         \textcolor{keywordflow}{throw} runtime\_error(\textcolor{stringliteral}{"{}Error: Failed to create socket"{}});}
\DoxyCodeLine{56     \}}
\DoxyCodeLine{57     }
\DoxyCodeLine{58 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classTcpSocket_a7d204a80b7c5dae21ee6c930db12b29d}\label{classTcpSocket_a7d204a80b7c5dae21ee6c930db12b29d}} 
\index{TcpSocket@{TcpSocket}!bind@{bind}}
\index{bind@{bind}!TcpSocket@{TcpSocket}}
\doxysubsubsection{\texorpdfstring{bind()}{bind()}}
{\footnotesize\ttfamily int Tcp\+Socket\+::bind (\begin{DoxyParamCaption}\item[{string}]{addr,  }\item[{int}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Bind the socket to a port and address. 


\begin{DoxyParams}{Parameters}
{\em addr} & address to bind to \\
\hline
{\em port} & port to bind to \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000013}{Todo}}]stoi is C++11 \end{DoxyRefDesc}


Implements \mbox{\hyperlink{classSocket}{Socket}}.



Definition at line 62 of file socket.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{62                                          \{}
\DoxyCodeLine{63     \mbox{\hyperlink{classSocket_a44059c2711bad07f9ff76ecdd3517dd4}{addr\_in\_}}.sin\_family      = AF\_INET;     \textcolor{comment}{// IPv4}}
\DoxyCodeLine{64     \mbox{\hyperlink{classSocket_a44059c2711bad07f9ff76ecdd3517dd4}{addr\_in\_}}.sin\_port        = htons(port); \textcolor{comment}{// Port}}
\DoxyCodeLine{65     \mbox{\hyperlink{classSocket_a44059c2711bad07f9ff76ecdd3517dd4}{addr\_in\_}}.sin\_addr.s\_addr = htonl(stoi(addr)); \textcolor{comment}{// Addres}}
\DoxyCodeLine{68 \textcolor{comment}{}    \textcolor{comment}{// Binds socket to an address and port}}
\DoxyCodeLine{69     \textcolor{keywordflow}{if} (::\mbox{\hyperlink{classTcpSocket_a7d204a80b7c5dae21ee6c930db12b29d}{bind}}(\mbox{\hyperlink{classSocket_a7cf176290950fc3ddda59fc43e49f2ed}{sockfd\_}}, (\textcolor{keyword}{struct} sockaddr*)\&\mbox{\hyperlink{classSocket_a44059c2711bad07f9ff76ecdd3517dd4}{addr\_in\_}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classSocket_a44059c2711bad07f9ff76ecdd3517dd4}{addr\_in\_}})) == -\/1) \{}
\DoxyCodeLine{70         \textcolor{keywordflow}{throw} runtime\_error(\textcolor{stringliteral}{"{}Error: Failed to bind socket"{}});}
\DoxyCodeLine{71     \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{keywordflow}{return} \mbox{\hyperlink{classSocket_a7cf176290950fc3ddda59fc43e49f2ed}{sockfd\_}};}
\DoxyCodeLine{74 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{socket_8hpp}{socket.\+hpp}}\item 
src/\mbox{\hyperlink{socket_8cpp}{socket.\+cpp}}\end{DoxyCompactItemize}
