\hypertarget{classParser}{}\doxysection{Parser Class Reference}
\label{classParser}\index{Parser@{Parser}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classParser_a62b7984e1c4b0f3d9d34385d900c9905}{tokenize\+Config}} (string)
\begin{DoxyCompactList}\small\item\em Tokenize a line of a config file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classParser_ae76473bd7ac12e0671da1354b24e44a0}{init\+Settings}} ()
\begin{DoxyCompactList}\small\item\em Initialize settings from token vector. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classParser_a01480431569484f652e4a3fb4c38975b}\label{classParser_a01480431569484f652e4a3fb4c38975b}} 
bool {\bfseries context\+Switch\+Case} (int)
\item 
\mbox{\Hypertarget{classParser_a0884a695ce761f114a5b3f2953ad4b51}\label{classParser_a0884a695ce761f114a5b3f2953ad4b51}} 
void \mbox{\hyperlink{classParser_a0884a695ce761f114a5b3f2953ad4b51}{set\+Context}} ()
\begin{DoxyCompactList}\small\item\em define in which context the token is \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classParser_ac828b8836205819d67edb61f78f0e354}{get\+Setting}} (string settings\+List\mbox{[}$\,$\mbox{]}, int size)
\begin{DoxyCompactList}\small\item\em Get the Setting object. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classParser_afd3f83f8e16969f87e0eaa2d095aa19f}{set\+Global\+Setting}} ()
\begin{DoxyCompactList}\small\item\em Set global context settings. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classParser_a5d9089625e38ece299d195b8abbf1e9b}\label{classParser_a5d9089625e38ece299d195b8abbf1e9b}} 
bool {\bfseries set\+Events\+Setting} ()
\item 
\mbox{\Hypertarget{classParser_a269d34df571e3d34aea263dd832e94f1}\label{classParser_a269d34df571e3d34aea263dd832e94f1}} 
bool {\bfseries set\+Worker\+Connections} ()
\item 
bool \mbox{\hyperlink{classParser_a769741a7d07969f22b50401ffa60df0c}{set\+Http\+Setting}} ()
\begin{DoxyCompactList}\small\item\em Set http setting. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classParser_a3ae2114fadfd138606fabfcf5e89d9e2}\label{classParser_a3ae2114fadfd138606fabfcf5e89d9e2}} 
bool \mbox{\hyperlink{classParser_a3ae2114fadfd138606fabfcf5e89d9e2}{set\+Server\+Setting}} ()
\begin{DoxyCompactList}\small\item\em Set server setting. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classParser_ae2a73f3b789a406d9e7d47854074cf6e}{set\+Listen}} ()
\begin{DoxyCompactList}\small\item\em Transform the token into the listening port of the server. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classParser_a2fd377280dd07402810b49b0afbc36a0}\label{classParser_a2fd377280dd07402810b49b0afbc36a0}} 
bool {\bfseries set\+Server\+Name} ()
\item 
\mbox{\Hypertarget{classParser_ac6a7cf0ec866f6b58c7f3e499dad8ffb}\label{classParser_ac6a7cf0ec866f6b58c7f3e499dad8ffb}} 
bool {\bfseries set\+Access\+Log} ()
\item 
\mbox{\Hypertarget{classParser_ae67005f73bff5d6c2af6f7fd83150887}\label{classParser_ae67005f73bff5d6c2af6f7fd83150887}} 
bool {\bfseries set\+Root} ()
\item 
\mbox{\Hypertarget{classParser_a3e601a4c26c20b5f308baaed5fee2673}\label{classParser_a3e601a4c26c20b5f308baaed5fee2673}} 
bool \mbox{\hyperlink{classParser_a3e601a4c26c20b5f308baaed5fee2673}{set\+Location\+Setting}} ()
\begin{DoxyCompactList}\small\item\em Set http setting. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classParser_a2570019499e41993fb20745a6c5f03fd}\label{classParser_a2570019499e41993fb20745a6c5f03fd}} 
void {\bfseries set\+Location\+Uri} ()
\item 
\mbox{\Hypertarget{classParser_ae9bd4e0f0517440d4ff63a44b97bf6c0}\label{classParser_ae9bd4e0f0517440d4ff63a44b97bf6c0}} 
void {\bfseries set\+Path} ()
\item 
\mbox{\Hypertarget{classParser_aa6c19c02068d4af08940b459b4b7b92f}\label{classParser_aa6c19c02068d4af08940b459b4b7b92f}} 
void {\bfseries set\+Fast\+CGI} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 38 of file Parser.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classParser_ac828b8836205819d67edb61f78f0e354}\label{classParser_ac828b8836205819d67edb61f78f0e354}} 
\index{Parser@{Parser}!getSetting@{getSetting}}
\index{getSetting@{getSetting}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{getSetting()}{getSetting()}}
{\footnotesize\ttfamily int Parser\+::get\+Setting (\begin{DoxyParamCaption}\item[{string}]{settings\+List\mbox{[}$\,$\mbox{]},  }\item[{int}]{size }\end{DoxyParamCaption})}



Get the Setting object. 


\begin{DoxyParams}{Parameters}
{\em settings\+List} & Array of settings \\
\hline
{\em setting} & Setting to find \\
\hline
{\em size} & Size of settings array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Index of setting in settings array 
\end{DoxyReturn}


Definition at line 45 of file Parser.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{45                                                       \{}
\DoxyCodeLine{46     vector<string> settings(settingsList, settingsList + size);}
\DoxyCodeLine{47     vector<string>::iterator settingIt = find(settings.begin(), settings.end(), *it);}
\DoxyCodeLine{48     \textcolor{keywordflow}{if} (settingIt == settings.end()) \{}
\DoxyCodeLine{49         \textcolor{keywordflow}{return} (-\/1);\}}
\DoxyCodeLine{50     \textcolor{keywordflow}{return} (settingIt -\/ settings.begin());}
\DoxyCodeLine{51 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classParser_ae76473bd7ac12e0671da1354b24e44a0}\label{classParser_ae76473bd7ac12e0671da1354b24e44a0}} 
\index{Parser@{Parser}!initSettings@{initSettings}}
\index{initSettings@{initSettings}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{initSettings()}{initSettings()}}
{\footnotesize\ttfamily void Parser\+::init\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize settings from token vector. 


\begin{DoxyParams}{Parameters}
{\em tokens} & \mbox{[}in\mbox{]} Vector of tokens \\
\hline
\end{DoxyParams}


Definition at line 93 of file Parser.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{93                           \{}
\DoxyCodeLine{94     it = tokens.begin();}
\DoxyCodeLine{95     \textcolor{keywordflow}{for} (; it != tokens.end(); ++it) \{}
\DoxyCodeLine{96         \textcolor{keywordflow}{while} (*it == \textcolor{stringliteral}{"{}\}"{}} \&\& !context.empty()) \{}
\DoxyCodeLine{97             context.pop\_back();}
\DoxyCodeLine{98             ++it;\}}
\DoxyCodeLine{99         \textcolor{keywordflow}{if} (it  == tokens.end()) \{}
\DoxyCodeLine{100             \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{101         \mbox{\hyperlink{classParser_a0884a695ce761f114a5b3f2953ad4b51}{setContext}}(); }
\DoxyCodeLine{102         \textcolor{keywordflow}{if} (context.back() == -\/1) \{}
\DoxyCodeLine{103             context.pop\_back();\}}
\DoxyCodeLine{104         contextSwitchCase(context.back());}
\DoxyCodeLine{105     \}}
\DoxyCodeLine{106     \textcolor{keywordflow}{if} (context.size() != 1) \{}
\DoxyCodeLine{107         \textcolor{keywordflow}{throw} std::exception();\}}
\DoxyCodeLine{108 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classParser_afd3f83f8e16969f87e0eaa2d095aa19f}\label{classParser_afd3f83f8e16969f87e0eaa2d095aa19f}} 
\index{Parser@{Parser}!setGlobalSetting@{setGlobalSetting}}
\index{setGlobalSetting@{setGlobalSetting}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{setGlobalSetting()}{setGlobalSetting()}}
{\footnotesize\ttfamily bool Parser\+::set\+Global\+Setting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Set global context settings. 


\begin{DoxyParams}{Parameters}
{\em it} & \mbox{[}in,out\mbox{]} Iterator of tokens \\
\hline
\end{DoxyParams}


Definition at line 15 of file Parser\+Global.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{15                               \{}
\DoxyCodeLine{16     std::cout << \textcolor{stringliteral}{"{}Global: "{}};}
\DoxyCodeLine{17     \textcolor{keywordtype}{string} List[] = \{\textcolor{stringliteral}{"{}worker\_processes"{}}, \textcolor{stringliteral}{"{}error\_log"{}}, \textcolor{stringliteral}{"{}pid"{}}\};}
\DoxyCodeLine{18     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{classParser_ac828b8836205819d67edb61f78f0e354}{getSetting}}(List, \textcolor{keyword}{sizeof}(List)/\textcolor{keyword}{sizeof}(List[0]))) \{}
\DoxyCodeLine{19         \textcolor{keywordflow}{case} WORKER\_PROCESSES:}
\DoxyCodeLine{20             \textcolor{comment}{// setWorkerProcessses();}}
\DoxyCodeLine{21             std::cout << \textcolor{stringliteral}{"{}worker\_processes: "{}} << *(++it) << std::endl;}
\DoxyCodeLine{22             \textcolor{keywordflow}{break};}
\DoxyCodeLine{23         \textcolor{keywordflow}{case} ERROR\_LOG:}
\DoxyCodeLine{24             \mbox{\hyperlink{config_8hpp_a0f7c21c84382fa32de57f78ea0311931}{httpConfig}}.\mbox{\hyperlink{structHttpConfig_ac12ca219699e31e7b7acb25fcb0d4d25}{error\_log}} = *(++it);}
\DoxyCodeLine{25             std::cout << \textcolor{stringliteral}{"{}error\_log: "{}} << *(it) << std::endl;}
\DoxyCodeLine{26             \textcolor{keywordflow}{break};}
\DoxyCodeLine{27         \textcolor{keywordflow}{case} PID:}
\DoxyCodeLine{28             \mbox{\hyperlink{config_8hpp_a0f7c21c84382fa32de57f78ea0311931}{httpConfig}}.pid\_file = *(++it);}
\DoxyCodeLine{29             std::cout << \textcolor{stringliteral}{"{}pid: "{}} << *(it) << std::endl;}
\DoxyCodeLine{30             \textcolor{keywordflow}{break};}
\DoxyCodeLine{31         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{32             \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Invalid setting in global context: "{}} + *it);}
\DoxyCodeLine{33     \}}
\DoxyCodeLine{34     ++it;}
\DoxyCodeLine{35     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{36 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classParser_a769741a7d07969f22b50401ffa60df0c}\label{classParser_a769741a7d07969f22b50401ffa60df0c}} 
\index{Parser@{Parser}!setHttpSetting@{setHttpSetting}}
\index{setHttpSetting@{setHttpSetting}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{setHttpSetting()}{setHttpSetting()}}
{\footnotesize\ttfamily bool Parser\+::set\+Http\+Setting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Set http setting. 


\begin{DoxyParams}{Parameters}
{\em it} & \mbox{[}in,out\mbox{]} Iterator of tokens \\
\hline
\end{DoxyParams}


Definition at line 8 of file Parser\+Http.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{8                             \{}
\DoxyCodeLine{9     std::cout << \textcolor{stringliteral}{"{}Http: "{}};}
\DoxyCodeLine{10     \textcolor{keywordtype}{string} List[] = \{\textcolor{stringliteral}{"{}index"{}}\};}
\DoxyCodeLine{11     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{classParser_ac828b8836205819d67edb61f78f0e354}{getSetting}}(List, \textcolor{keyword}{sizeof}(List)/\textcolor{keyword}{sizeof}(List[0]))) \{}
\DoxyCodeLine{12         \textcolor{keywordflow}{case} INDEX:}
\DoxyCodeLine{13             std::cout << \textcolor{stringliteral}{"{}Index: "{}} << *(++it) << std::endl;}
\DoxyCodeLine{14             \textcolor{keywordflow}{break};}
\DoxyCodeLine{15         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{16             \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Invalid setting in Http context: "{}} + *it);}
\DoxyCodeLine{17     \}}
\DoxyCodeLine{18     ++it;}
\DoxyCodeLine{19     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{20 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classParser_ae2a73f3b789a406d9e7d47854074cf6e}\label{classParser_ae2a73f3b789a406d9e7d47854074cf6e}} 
\index{Parser@{Parser}!setListen@{setListen}}
\index{setListen@{setListen}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{setListen()}{setListen()}}
{\footnotesize\ttfamily bool Parser\+::set\+Listen (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Transform the token into the listening port of the server. 

\begin{DoxyReturn}{Returns}
true or throw an exception 
\end{DoxyReturn}


Definition at line 8 of file Parser\+Server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{8                        \{}
\DoxyCodeLine{9     \textcolor{keywordtype}{string} num = *(++it);}
\DoxyCodeLine{10     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < num.length(); ++i) \{}
\DoxyCodeLine{11         \textcolor{keywordflow}{if} (!isdigit(num[i])) \{}
\DoxyCodeLine{12             \textcolor{keywordflow}{throw} std::logic\_error(\textcolor{stringliteral}{"{}Invalid port number for listen: "{}} + num);}
\DoxyCodeLine{13         \}}
\DoxyCodeLine{14     \}}
\DoxyCodeLine{15     (\mbox{\hyperlink{config_8hpp_a0f7c21c84382fa32de57f78ea0311931}{httpConfig}}.\mbox{\hyperlink{structHttpConfig_af3c802628373bf70e0436c31c3dc2ef3}{servers}}.back()).port = stoi(num);}
\DoxyCodeLine{16     std::cout << \textcolor{stringliteral}{"{}Listen: "{}} << *(it) << std::endl;}
\DoxyCodeLine{17     ++it;}
\DoxyCodeLine{18     \textcolor{keywordflow}{return} (\textcolor{keyword}{true});}
\DoxyCodeLine{19 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classParser_a62b7984e1c4b0f3d9d34385d900c9905}\label{classParser_a62b7984e1c4b0f3d9d34385d900c9905}} 
\index{Parser@{Parser}!tokenizeConfig@{tokenizeConfig}}
\index{tokenizeConfig@{tokenizeConfig}!Parser@{Parser}}
\doxysubsubsection{\texorpdfstring{tokenizeConfig()}{tokenizeConfig()}}
{\footnotesize\ttfamily void Parser\+::tokenize\+Config (\begin{DoxyParamCaption}\item[{string}]{line }\end{DoxyParamCaption})}



Tokenize a line of a config file. 


\begin{DoxyParams}{Parameters}
{\em line} & \mbox{[}in\mbox{]} Line to tokenize \\
\hline
\end{DoxyParams}


Definition at line 114 of file Parser.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{114                                        \{}
\DoxyCodeLine{115     \textcolor{keywordflow}{while} (line.size() > 0) \{}
\DoxyCodeLine{116         \textcolor{keywordtype}{size\_t} pos = line.find\_first\_not\_of(\textcolor{stringliteral}{"{} \(\backslash\)t"{}});}
\DoxyCodeLine{117         \textcolor{keywordflow}{if} (pos == line.npos || line[pos] == \textcolor{charliteral}{'\#'}) \{}
\DoxyCodeLine{118             \textcolor{keywordflow}{break};\}}
\DoxyCodeLine{119         line = line.substr(pos);}
\DoxyCodeLine{120         pos = line.find\_first\_of(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\#\{\}; \(\backslash\)t\(\backslash\)n\(\backslash\)0"{}});}
\DoxyCodeLine{121         pos == 0 ? pos = 1: pos;}
\DoxyCodeLine{122         \textcolor{keywordtype}{string} tmp = line.substr(0, pos);}
\DoxyCodeLine{123         tokens.push\_back(tmp);;}
\DoxyCodeLine{124         line = line.substr(tmp.size());}
\DoxyCodeLine{125     \}}
\DoxyCodeLine{126 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/Parser.\+hpp\item 
src/Parser.\+cpp\item 
src/Parser\+Events.\+cpp\item 
src/Parser\+Global.\+cpp\item 
src/Parser\+Http.\+cpp\item 
src/Parser\+Location.\+cpp\item 
src/Parser\+Server.\+cpp\end{DoxyCompactItemize}
