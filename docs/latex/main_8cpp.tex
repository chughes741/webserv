\hypertarget{main_8cpp}{}\doxysection{src/main.cpp File Reference}
\label{main_8cpp}\index{src/main.cpp@{src/main.cpp}}


Main function.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include \char`\"{}webserv.\+hpp\char`\"{}}\newline
Include dependency graph for main.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Main function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main function. 

This file contains the main function for the web server. It parses the configuration file, creates an \mbox{\hyperlink{classHttpServer}{Http\+Server}} object, and then runs the server.

\begin{DoxyNote}{Note}
This code is for educational purposes only and should not be used in production environments without extensive testing and modification.
\end{DoxyNote}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2023-\/04-\/19 
\end{DoxyDate}
\begin{DoxyAuthor}{Authors}

\begin{DoxyItemize}
\item Francis L.
\item Marc-\/\+AndrÃ© L.
\item Cole H. 
\end{DoxyItemize}
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}\label{main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{main.cpp@{main.cpp}!main@{main}}
\index{main@{main}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Main function. 


\begin{DoxyParams}{Parameters}
{\em argc} & Number of arguments \\
\hline
{\em argv} & \mbox{[}1\mbox{]} config file name \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000001}{Todo}}]needs a more specific exception \end{DoxyRefDesc}


Definition at line 29 of file main.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{29                                  \{}
\DoxyCodeLine{30     \textcolor{comment}{// Exit if the number of arguments is greater than 2}}
\DoxyCodeLine{31     \textcolor{keywordflow}{if} (argc > 2) \{}
\DoxyCodeLine{32         std::cerr << \textcolor{stringliteral}{"{}Usage: ./webserv [config\_file]"{}} << std::endl;}
\DoxyCodeLine{33         \textcolor{keywordflow}{return} (EXIT\_FAILURE);}
\DoxyCodeLine{34     \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \mbox{\hyperlink{structHttpConfig}{HttpConfig}} httpConfig;}
\DoxyCodeLine{37     \textcolor{comment}{// Parse config file}}
\DoxyCodeLine{38     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{39         \textcolor{keywordflow}{if} (argc == 2) \{}
\DoxyCodeLine{40             \mbox{\hyperlink{parsing_8cpp_ad44f6d0d6bb706f5adbe8c0ce11b6a77}{parseConfig}}(argv[1], httpConfig);}
\DoxyCodeLine{41         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{42             \mbox{\hyperlink{parsing_8cpp_ad44f6d0d6bb706f5adbe8c0ce11b6a77}{parseConfig}}(CONFIG\_FILE, httpConfig);}
\DoxyCodeLine{43         \}}
\DoxyCodeLine{44     \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{45         std::cerr << e.what() << std::endl;}
\DoxyCodeLine{46         \textcolor{keywordflow}{return} (EXIT\_FAILURE);}
\DoxyCodeLine{47     \}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{comment}{// Initialize server}}
\DoxyCodeLine{50     \mbox{\hyperlink{classHttpServer}{HttpServer}} httpServer = \mbox{\hyperlink{classHttpServer}{HttpServer}}(httpConfig);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     \textcolor{comment}{// Run server}}
\DoxyCodeLine{53     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{54         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{55             httpServer.\mbox{\hyperlink{classHttpServer_aeb54b6186a9e7a11c6b321589f9379e1}{start}}();}
\DoxyCodeLine{56         \} \textcolor{keywordflow}{catch} (}
\DoxyCodeLine{57             std::exception \&e) \{ }
\DoxyCodeLine{58             std::cerr << e.what() << std::endl;}
\DoxyCodeLine{59             httpServer.\mbox{\hyperlink{classHttpServer_aad9c63d3f8cda248e3c87067ac3ac5a5}{stop}}();}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61     \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keywordflow}{return} (EXIT\_SUCCESS);}
\DoxyCodeLine{64 \}}

\end{DoxyCode}
