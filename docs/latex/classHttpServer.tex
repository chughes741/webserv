\hypertarget{classHttpServer}{}\doxysection{Http\+Server Class Reference}
\label{classHttpServer}\index{HttpServer@{HttpServer}}


Represents an HTTP server.  




{\ttfamily \#include $<$server.\+hpp$>$}



Inheritance diagram for Http\+Server\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=149pt]{classHttpServer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Http\+Server\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classHttpServer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classHttpServer_ad230925b8e49bffbb4c43b11db3e1525}{Http\+Server}} (\mbox{\hyperlink{structHttpConfig}{Http\+Config}} config)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classHttpServer_aeb54b6186a9e7a11c6b321589f9379e1}{start}} ()
\begin{DoxyCompactList}\small\item\em Start the server. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classHttpServer_aad9c63d3f8cda248e3c87067ac3ac5a5}\label{classHttpServer_aad9c63d3f8cda248e3c87067ac3ac5a5}} 
void \mbox{\hyperlink{classHttpServer_aad9c63d3f8cda248e3c87067ac3ac5a5}{stop}} ()
\begin{DoxyCompactList}\small\item\em Stop the server. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Represents an HTTP server. 

Definition at line 73 of file server.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classHttpServer_ad230925b8e49bffbb4c43b11db3e1525}\label{classHttpServer_ad230925b8e49bffbb4c43b11db3e1525}} 
\index{HttpServer@{HttpServer}!HttpServer@{HttpServer}}
\index{HttpServer@{HttpServer}!HttpServer@{HttpServer}}
\doxysubsubsection{\texorpdfstring{HttpServer()}{HttpServer()}}
{\footnotesize\ttfamily Http\+Server\+::\+Http\+Server (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structHttpConfig}{Http\+Config}}}]{config }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em config} & Configuration for the server \\
\hline
\end{DoxyParams}


Definition at line 33 of file server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{33                                             \{}
\DoxyCodeLine{34     \mbox{\hyperlink{classServer_a568fb0f3f8c94641b6ca0577c279f4cb}{config\_}} = httpConfig;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{// Create a listener}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#ifdef \_\_APPLE\_\_}}
\DoxyCodeLine{38     \mbox{\hyperlink{classServer_a2be3022c498f7dda8f15a6f4847d2dbf}{listener\_}} = \textcolor{keyword}{new} KqueueEventListener();}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#elif \_\_linux\_\_}}
\DoxyCodeLine{40     \mbox{\hyperlink{classServer_a2be3022c498f7dda8f15a6f4847d2dbf}{listener\_}} = \textcolor{keyword}{new} EpollEventListener();}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#error "{}Unsupported platform"{}}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_APPLE\_\_}}
\DoxyCodeLine{44 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classHttpServer_aeb54b6186a9e7a11c6b321589f9379e1}\label{classHttpServer_aeb54b6186a9e7a11c6b321589f9379e1}} 
\index{HttpServer@{HttpServer}!start@{start}}
\index{start@{start}!HttpServer@{HttpServer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void Http\+Server\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Start the server. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000004}{Todo}}]event flags \end{DoxyRefDesc}


Implements \mbox{\hyperlink{classServer}{Server}}.



Definition at line 49 of file server.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                        \{}
\DoxyCodeLine{50     \textcolor{comment}{// Create a socket for each server in the config}}
\DoxyCodeLine{51     \mbox{\hyperlink{classSocket}{Socket}}* new\_socket;}
\DoxyCodeLine{52     \textcolor{keywordflow}{for} (vector<ServerConfig>::iterator it = \mbox{\hyperlink{classServer_a568fb0f3f8c94641b6ca0577c279f4cb}{config\_}}.\mbox{\hyperlink{structHttpConfig_af3c802628373bf70e0436c31c3dc2ef3}{servers}}.begin();}
\DoxyCodeLine{53          it != \mbox{\hyperlink{classServer_a568fb0f3f8c94641b6ca0577c279f4cb}{config\_}}.\mbox{\hyperlink{structHttpConfig_af3c802628373bf70e0436c31c3dc2ef3}{servers}}.end(); ++it) \{}
\DoxyCodeLine{54         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{55             \textcolor{comment}{// Create a new socket}}
\DoxyCodeLine{56             new\_socket = \textcolor{keyword}{new} \mbox{\hyperlink{classTcpSocket}{TcpSocket}}();}
\DoxyCodeLine{57 }
\DoxyCodeLine{58             \textcolor{comment}{// Bind the socket to the address/port}}
\DoxyCodeLine{59             \textcolor{keywordtype}{int} server\_id =}
\DoxyCodeLine{60                 new\_socket-\/>bind(it-\/>listen.first, it-\/>listen.second);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62             \textcolor{comment}{// Listen for connections}}
\DoxyCodeLine{63             new\_socket-\/>listen();}
\DoxyCodeLine{64 }
\DoxyCodeLine{65             \textcolor{comment}{// Add the socket to the map}}
\DoxyCodeLine{66             \mbox{\hyperlink{classServer_a646c56c63077a5f7245e266393f50f94}{server\_sockets\_}}[server\_id] = new\_socket;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68             \textcolor{comment}{// Add the socket to the listener}}
\DoxyCodeLine{69             \mbox{\hyperlink{classServer_a2be3022c498f7dda8f15a6f4847d2dbf}{listener\_}}-\/>registerEvent(server\_id, 0); }
\DoxyCodeLine{70         \} \textcolor{keywordflow}{catch} (runtime\_error\& e) \{}
\DoxyCodeLine{71             cerr << e.what() << endl;}
\DoxyCodeLine{72 }
\DoxyCodeLine{73             \textcolor{comment}{// Delete the socket, is this safe even if it wasn't constructed?}}
\DoxyCodeLine{74             \textcolor{keyword}{delete} new\_socket;}
\DoxyCodeLine{75         \}}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{comment}{// Run the server}}
\DoxyCodeLine{79     run();}
\DoxyCodeLine{80 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{server_8hpp}{server.\+hpp}}\item 
src/\mbox{\hyperlink{server_8cpp}{server.\+cpp}}\end{DoxyCompactItemize}
